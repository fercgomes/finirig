# VSCode Configuration

> **Note:** For complete VSCode setup instructions, see [`docs/VSCODE_SETUP.md`](../docs/VSCODE_SETUP.md)

This directory contains VSCode configuration files for optimal IntelliSense and development experience.

## Required Extensions

Install the recommended extensions (VSCode will prompt you, or install manually):

1. **C/C++** (`ms-vscode.cpptools`) - C++ IntelliSense
2. **CMake Tools** (`ms-vscode.cmake-tools`) - CMake integration
3. **Qt for Visual Studio Code** (`qt-vscode.qt-vscode`) - Qt support (optional but helpful)

## Configuration Files

### `settings.json`
- C++ standard set to C++20
- Include paths for JUCE and Qt
- CMake auto-configuration
- File associations and editor settings

### `c_cpp_properties.json`
- IntelliSense configuration
- Include paths for all dependencies
- Compiler settings
- Uses `compile_commands.json` from CMake build

### `tasks.json`
- Build tasks (CMake configure, build, clean)
- Test runner task
- Setup script task

### `launch.json`
- Debug configurations for standalone app
- Debug configuration for tests
- Pre-launch build tasks

### `extensions.json`
- Recommended extensions list

## Setup Steps

1. **Install Extensions:**
   - Open VSCode
   - Press `Cmd+Shift+X` (Extensions)
   - Install recommended extensions when prompted

2. **Configure CMake:**
   - Run the setup script: `./setup.sh`
   - Build the project once: `mkdir build && cd build && cmake .. && cmake --build .`
   - This generates `compile_commands.json` which IntelliSense uses

3. **Reload VSCode:**
   - Press `Cmd+Shift+P` → "Developer: Reload Window"

4. **Verify IntelliSense:**
   - Open any `.cpp` or `.h` file
   - Hover over JUCE or Qt types - you should see IntelliSense
   - Try autocomplete (Ctrl+Space)

## Troubleshooting

### IntelliSense not working

1. **Check compile_commands.json exists:**
   ```bash
   ls build/compile_commands.json
   ```
   If missing, rebuild: `cd build && cmake .. && cmake --build .`

2. **Reload IntelliSense:**
   - `Cmd+Shift+P` → "C/C++: Reset IntelliSense Database"
   - `Cmd+Shift+P` → "C/C++: Reload IntelliSense"

3. **Check Qt6 path:**
   - On macOS, Qt6 might be at `/opt/homebrew/opt/qt@6` or `/usr/local/opt/qt6`
   - Update `c_cpp_properties.json` if needed

4. **Check JUCE path:**
   - Ensure `third_party/JUCE` exists
   - Run `./setup.sh` if missing

### CMake Tools not finding Qt6

1. Set Qt6 path in CMake:
   ```bash
   cmake .. -DCMAKE_PREFIX_PATH=$(brew --prefix qt6)
   ```

2. Or set in `settings.json`:
   ```json
   "cmake.configureArgs": [
       "-DCMAKE_PREFIX_PATH=/opt/homebrew/opt/qt6"
   ]
   ```

### Build errors

- Make sure you've run `./setup.sh` to clone JUCE
- Ensure Qt6 is installed: `brew install qt6`
- Check compiler: `clang++ --version` (should support C++20)

## Using the Tasks

- **Build:** `Cmd+Shift+B` (default build task)
- **Run Task:** `Cmd+Shift+P` → "Tasks: Run Task" → Select task
- **Debug:** `F5` (uses launch.json configuration)

## Tips

- The `compile_commands.json` file is automatically generated by CMake
- IntelliSense uses this file for accurate code completion
- Rebuild after adding new source files to update IntelliSense
- Use `Cmd+Click` to jump to definitions (works with JUCE and Qt headers)

